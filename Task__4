using System;
using System.Collections.Generic;

//-- Account --
public class Account
{
    public string Name { get; set; }
    public double Balance { get; set; }

    public Account(string name = "Unnamed Account", double balance = 0.0)
    {
        Name = name;
        Balance = balance;
    }

    public bool Deposit(double amount)
    {
        if (amount < 0)
            return false;

        Balance += amount;
        return true;
    }

    public bool Withdraw(double amount)
    {
        if (Balance - amount >= 0)
        {
            Balance -= amount;
            return true;
        }
        return false;
    }

    public override string ToString()
    {
        return $"{Name}: Balance={Balance}";
    }
}

// -- SavingsAccount --
public class SavingsAccount : Account
{
    public double InterestRate { get; set; }

    public SavingsAccount(string name = "Unnamed Savings Account",
                          double balance = 0.0,
                          double interestRate = 0.0)
        : base(name, balance)
    {
        InterestRate = interestRate;
    }

    public new bool Deposit(double amount)
    {
        if (amount < 0)
            return false;

        amount += amount * (InterestRate / 100);
        return base.Deposit(amount);
    }

    public override string ToString()
    {
        return $"{Name}: Balance={Balance}, Interest={InterestRate}%";
    }
}

// -- CheckingAccount --
public class CheckingAccount : Account
{
    private const double Fee = 1.50;

    public CheckingAccount(string name = "Unnamed Checking Account",
                           double balance = 0.0)
        : base(name, balance)
    {
    }

    public new bool Withdraw(double amount)
    {
        return base.Withdraw(amount + Fee);
    }

    public override string ToString()
    {
        return $"{Name}: Balance={Balance} (Checking)";
    }
}

// -- TrustAccount --
public class TrustAccount : SavingsAccount
{
    private const double BonusLimit = 5000.0;
    private const double Bonus = 50.0;
    private const double MaxWithdrawPercent = 0.20;

    public TrustAccount(string name = "Unnamed Trust Account",
                        double balance = 0.0,
                        double interestRate = 0.0)
        : base(name, balance, interestRate)
    {
    }

    public new bool Deposit(double amount)
    {
        if (amount >= BonusLimit)
            amount += Bonus;

        return base.Deposit(amount);
    }

    public new bool Withdraw(double amount)
    {
        if (amount > Balance * MaxWithdrawPercent)
            return false;

        return base.Withdraw(amount);
    }

    public override string ToString()
    {
        return $"{Name}: Balance={Balance}, Interest={InterestRate}% (Trust)";
    }
}

// -- AccountUtil --
public class AccountUtil
{
    public static void Deposit(List<Account> accounts, double amount)
    {
        Console.WriteLine("\n=== Depositing to Accounts ===");
        foreach (var acc in accounts)
            Console.WriteLine(acc.Deposit(amount)
                ? $"Deposited {amount} to {acc}"
                : $"Failed Deposit of {amount} to {acc}");
    }

    public static void Withdraw(List<Account> accounts, double amount)
    {
        Console.WriteLine("\n=== Withdrawing from Accounts ===");
        foreach (var acc in accounts)
            Console.WriteLine(acc.Withdraw(amount)
                ? $"Withdrew {amount} from {acc}"
                : $"Failed Withdrawal of {amount} from {acc}");
    }

    public static void DepositSavings(List<SavingsAccount> accounts, double amount)
    {
        Console.WriteLine("\n=== Depositing to Savings Accounts ===");
        foreach (var acc in accounts)
            Console.WriteLine(acc.Deposit(amount)
                ? $"Deposited {amount} to {acc}"
                : $"Failed Deposit of {amount} to {acc}");
    }

    public static void WithdrawSavings(List<SavingsAccount> accounts, double amount)
    {
        Console.WriteLine("\n=== Withdrawing from Savings Accounts ===");
        foreach (var acc in accounts)
            Console.WriteLine(acc.Withdraw(amount)
                ? $"Withdrew {amount} from {acc}"
                : $"Failed Withdrawal of {amount} from {acc}");
    }

    public static void DepositChecking(List<CheckingAccount> accounts, double amount)
    {
        Console.WriteLine("\n---- Depositing to Checking Accounts ----");
        foreach (var acc in accounts)
            Console.WriteLine(acc.Deposit(amount)
                ? $"Deposited {amount} to {acc}"
                : $"Failed Deposit of {amount} to {acc}");
    }

    public static void WithdrawChecking(List<CheckingAccount> accounts, double amount)
    {
        Console.WriteLine("\n---- Withdrawing from Checking Accounts ----");
        foreach (var acc in accounts)
            Console.WriteLine(acc.Withdraw(amount)
                ? $"Withdrew {amount} from {acc}"
                : $"Failed Withdrawal of {amount} from {acc}");
    }

    public static void DepositTrust(List<TrustAccount> accounts, double amount)
    {
        Console.WriteLine("\n---- Depositing to Trust Accounts ----");
        foreach (var acc in accounts)
            Console.WriteLine(acc.Deposit(amount)
                ? $"Deposited {amount} to {acc}"
                : $"Failed Deposit of {amount} to {acc}");
    }

    public static void WithdrawTrust(List<TrustAccount> accounts, double amount)
    {
        Console.WriteLine("\n---- Withdrawing from Trust Accounts ----");
        foreach (var acc in accounts)
            Console.WriteLine(acc.Withdraw(amount)
                ? $"Withdrew {amount} from {acc}"
                : $"Failed Withdrawal of {amount} from {acc}");
    }
}

// -- Program --
class Program
{
    static void Main()
    {
        var accounts = new List<Account>
        {
            new Account(),
            new Account("Larry"),
            new Account("Moe", 2000),
            new Account("Curly", 5000)
        };

        AccountUtil.Deposit(accounts, 1000);
        AccountUtil.Withdraw(accounts, 2000);

        var savAccounts = new List<SavingsAccount>
        {
            new SavingsAccount(),
            new SavingsAccount("Superman"),
            new SavingsAccount("Batman", 2000),
            new SavingsAccount("Wonderwoman", 5000, 5.0)
        };

        AccountUtil.DepositSavings(savAccounts, 1000);
        AccountUtil.WithdrawSavings(savAccounts, 2000);

        var checAccounts = new List<CheckingAccount>
        {
            new CheckingAccount(),
            new CheckingAccount("Larry2"),
            new CheckingAccount("Moe2", 2000),
            new CheckingAccount("Curly2", 5000)
        };

        AccountUtil.DepositChecking(checAccounts, 1000);
        AccountUtil.WithdrawChecking(checAccounts, 2000);
        AccountUtil.WithdrawChecking(checAccounts, 2000);

        var trustAccounts = new List<TrustAccount>
        {
            new TrustAccount(),
            new TrustAccount("Superman2"),
            new TrustAccount("Batman2", 2000),
            new TrustAccount("Wonderwoman2", 5000, 5.0)
        };

        AccountUtil.DepositTrust(trustAccounts, 1000);
        AccountUtil.DepositTrust(trustAccounts, 6000);
        AccountUtil.WithdrawTrust(trustAccounts, 2000);
        AccountUtil.WithdrawTrust(trustAccounts, 3000);
        AccountUtil.WithdrawTrust(trustAccounts, 500);
    }
}


##search
1. Write a C# program that reads a list of integers from the user and throws an exception if any numbers are duplicates.
using System;
using System.Collections.Generic;

class Program
{
    static void Main()
    {
        try
        {
            Console.WriteLine("Enter integers separated by space:");
            string input = Console.ReadLine();

            var numbers = new List<int>();
            var seen = new HashSet<int>();

            foreach (var item in input.Split(' '))
            {
                int num = int.Parse(item);

                if (!seen.Add(num))
                {
                    throw new Exception("Duplicate number found: " + num);
                }

                numbers.Add(num);
            }

            Console.WriteLine("No duplicates found.");
        }
        catch (Exception ex)
        {
            Console.WriteLine("Error: " + ex.Message);
        }
    }
}


2. Write a C# program to create a method that takes a string as input and throws an exception if the string does not contain vowels.
using System;

class Program
{
    static void Main()
    {
        try
        {
            CheckVowels("bcdfg");
        }
        catch (Exception ex)
        {
            Console.WriteLine("Error: " + ex.Message);
        }
    }

    static void CheckVowels(string text)
    {
        string vowels = "aeiouAEIOU";

        foreach (char c in text)
        {
            if (vowels.Contains(c))
            {
                Console.WriteLine("String contains vowels.");
                return;
            }
        }

        throw new Exception("String does not contain any vowels.");
    }
}

##bouns
using System;
using System.Collections.Generic;
using System.Linq;

// ---- Student ----
public class Student
{
    public int StudentId { get; set; }
    public string Name { get; set; }
    public int Age { get; set; }
    public List<Course> Courses { get; set; } = new List<Course>();

    public bool Enroll(Course course)
    {
        if (Courses.Any(c => c.CourseId == course.CourseId))
            return false;

        Courses.Add(course);
        return true;
    }

    public string PrintDetails()
    {
        string courseNames = Courses.Count == 0
            ? "No courses"
            : string.Join(", ", Courses.Select(c => c.Title));

        return $"ID: {StudentId}, Name: {Name}, Age: {Age}, Courses: {courseNames}";
    }
}

// ---- Instructor ----
public class Instructor
{
    public int InstructorId { get; set; }
    public string Name { get; set; }
    public string Specialization { get; set; }

    public string PrintDetails()
    {
        return $"ID: {InstructorId}, Name: {Name}, Specialization: {Specialization}";
    }
}

// ---- Course ----
public class Course
{
    public int CourseId { get; set; }
    public string Title { get; set; }
    public Instructor Instructor { get; set; }

    public string PrintDetails()
    {
        return $"ID: {CourseId}, Title: {Title}, Instructor: {Instructor?.Name}";
    }
}

// ---- StudentManager ----
public class StudentManager
{
    public List<Student> Students { get; set; } = new List<Student>();
    public List<Course> Courses { get; set; } = new List<Course>();
    public List<Instructor> Instructors { get; set; } = new List<Instructor>();

    public bool AddStudent(Student student)
    {
        if (Students.Any(s => s.StudentId == student.StudentId))
            return false;

        Students.Add(student);
        return true;
    }

    public bool AddInstructor(Instructor instructor)
    {
        if (Instructors.Any(i => i.InstructorId == instructor.InstructorId))
            return false;

        Instructors.Add(instructor);
        return true;
    }

    public bool AddCourse(Course course)
    {
        if (Courses.Any(c => c.CourseId == course.CourseId))
            return false;

        Courses.Add(course);
        return true;
    }

    public Student FindStudent(int id)
    {
        return Students.FirstOrDefault(s => s.StudentId == id);
    }

    public Course FindCourse(int id)
    {
        return Courses.FirstOrDefault(c => c.CourseId == id);
    }

    public Instructor FindInstructor(int id)
    {
        return Instructors.FirstOrDefault(i => i.InstructorId == id);
    }

    public bool EnrollStudentInCourse(int studentId, int courseId)
    {
        var student = FindStudent(studentId);
        var course = FindCourse(courseId);

        if (student == null || course == null)
            return false;

        return student.Enroll(course);
    }

    // Bonus
    public bool IsStudentEnrolledInCourse(int studentId, string courseName)
    {
        var student = FindStudent(studentId);
        if (student == null) return false;

        return student.Courses.Any(c => c.Title.Equals(courseName, StringComparison.OrdinalIgnoreCase));
    }

    public string GetInstructorNameByCourse(string courseName)
    {
        var course = Courses.FirstOrDefault(c =>
            c.Title.Equals(courseName, StringComparison.OrdinalIgnoreCase));

        return course?.Instructor?.Name;
    }
}

// ---- Program ----
class Program
{
    static void Main()
    {
        StudentManager manager = new StudentManager();

        while (true)
        {
            Console.WriteLine("\n===== Student Management System =====");
            Console.WriteLine("1. Add Student");
            Console.WriteLine("2. Add Instructor");
            Console.WriteLine("3. Add Course");
            Console.WriteLine("4. Enroll Student in Course");
            Console.WriteLine("5. Show All Students");
            Console.WriteLine("6. Show All Courses");
            Console.WriteLine("7. Show All Instructors");
            Console.WriteLine("8. Find Student by ID");
            Console.WriteLine("9. Find Course by ID");
            Console.WriteLine("10. Exit");
            Console.WriteLine("11. Check if student enrolled in course");
            Console.WriteLine("12. Get instructor name by course name");

            Console.Write("Choose option: ");
            int choice = int.Parse(Console.ReadLine());

            switch (choice)
            {
                case 1:
                    Console.Write("Student ID: ");
                    int sid = int.Parse(Console.ReadLine());
                    Console.Write("Name: ");
                    string sname = Console.ReadLine();
                    Console.Write("Age: ");
                    int age = int.Parse(Console.ReadLine());
                    Console.WriteLine(manager.AddStudent(new Student { StudentId = sid, Name = sname, Age = age })
                        ? "Student added"
                        : "Student already exists");
                    break;

                case 2:
                    Console.Write("Instructor ID: ");
                    int iid = int.Parse(Console.ReadLine());
                    Console.Write("Name: ");
                    string iname = Console.ReadLine();
                    Console.Write("Specialization: ");
                    string spec = Console.ReadLine();
                    Console.WriteLine(manager.AddInstructor(new Instructor
                    {
                        InstructorId = iid,
                        Name = iname,
                        Specialization = spec
                    }) ? "Instructor added" : "Instructor exists");
                    break;

                case 3:
                    Console.Write("Course ID: ");
                    int cid = int.Parse(Console.ReadLine());
                    Console.Write("Title: ");
                    string title = Console.ReadLine();
                    Console.Write("Instructor ID: ");
                    int instId = int.Parse(Console.ReadLine());
                    var instructor = manager.FindInstructor(instId);
                    if (instructor == null)
                    {
                        Console.WriteLine("Instructor not found");
                        break;
                    }
                    Console.WriteLine(manager.AddCourse(new Course
                    {
                        CourseId = cid,
                        Title = title,
                        Instructor = instructor
                    }) ? "Course added" : "Course exists");
                    break;

                case 4:
                    Console.Write("Student ID: ");
                    sid = int.Parse(Console.ReadLine());
                    Console.Write("Course ID: ");
                    cid = int.Parse(Console.ReadLine());
                    Console.WriteLine(manager.EnrollStudentInCourse(sid, cid)
                        ? "Enrollment successful"
                        : "Enrollment failed");
                    break;

                case 5:
                    manager.Students.ForEach(s => Console.WriteLine(s.PrintDetails()));
                    break;

                case 6:
                    manager.Courses.ForEach(c => Console.WriteLine(c.PrintDetails()));
                    break;

                case 7:
                    manager.Instructors.ForEach(i => Console.WriteLine(i.PrintDetails()));
                    break;

                case 8:
                    Console.Write("Student ID: ");
                    sid = int.Parse(Console.ReadLine());
                    var student = manager.FindStudent(sid);
                    Console.WriteLine(student != null ? student.PrintDetails() : "Not found");
                    break;

                case 9:
                    Console.Write("Course ID: ");
                    cid = int.Parse(Console.ReadLine());
                    var course = manager.FindCourse(cid);
                    Console.WriteLine(course != null ? course.PrintDetails() : "Not found");
                    break;

                case 10:
                    return;

                case 11:
                    Console.Write("Student ID: ");
                    sid = int.Parse(Console.ReadLine());
                    Console.Write("Course Name: ");
                    string cname = Console.ReadLine();
                    Console.WriteLine(manager.IsStudentEnrolledInCourse(sid, cname)
                        ? "Yes, enrolled"
                        : "No, not enrolled");
                    break;

                case 12:
                    Console.Write("Course Name: ");
                    cname = Console.ReadLine();
                    string instructorName = manager.GetInstructorNameByCourse(cname);
                    Console.WriteLine(instructorName ?? "Course not found");
                    break;
            }
        }
    }
}
